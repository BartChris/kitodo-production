<!--
 *
 * (c) Kitodo. Key to digital objects e. V. <contact@kitodo.org>
 *
 * This file is part of the Kitodo project.
 *
 * It is licensed under GNU General Public License version 3 or later.
 *
 * For the full copyright and license information, please read the
 * GPL3-License.txt file that was distributed with this source code.
 *
-->

<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:p="http://primefaces.org/ui">
    <p:panel id="paginationWrapperPanel" styleClass="wrapperPanel">
        <p:panelGrid id="actionButtons" columns="1" rendered="#{not Metadaten.showPagination}">
            <p:commandButton id="newButton" value="#{msgs.newElement}"
                             onclick="PF('dialogAddDocStrucType').show();"
                             icon="fa fa-plus-circle fa-lg"
                             iconPos="right">
                <p:ajax update="dialogAddDocStrucTypeForm"/>
            </p:commandButton>
            <p:commandButton id="deleteButton" value="#{msgs.delete}"
                             action="#{Metadaten.deleteNode}"
                             update="structureTreeForm,structureTreeForm:structureWrapperPanel,structureTreeForm:paginationWrapperPanel,metadataWrapperPanel,commentWrapperPanel,galleryWrapperPanel"
                             icon="fa fa-minus-circle fa-lg"
                             iconPos="right"/>
            <p:commandButton id="linkButton" value="#{msgs.link}"
                             icon="fa fa-link fa-lg"
                             iconPos="right"/>
            <p:commandButton id="pagingButton" value="#{msgs.pagination}"
                             action="#{Metadaten.setShowPagination(true)}"
                             update="structureTreeForm"
                             icon="fa fa-list-ol fa-lg"
                             iconPos="right"/>
        </p:panelGrid>
        <p:panelGrid id="paginationPanelGrid" columns="1" rendered="#{Metadaten.showPagination}">
            <p:selectManyMenu id="paginationSelection" value="#{Metadaten.allPagesSelection}" style="height: 100%"
                              required="true" requiredMessage="#{msgs.paginationNoPagesSelected}"
                              filter="true" filterMatchMode="contains">
                <f:selectItems value="#{Metadaten.allPages}"/>
                <p:ajax update="paginationSelection"/>

            </p:selectManyMenu>
            <h:outputText value="#{msgs.pagination}"/>
            <p:selectOneMenu id="paginationTypeSelect"
                             value="#{Metadaten.paginator.paginationType}">
                <f:selectItems value="#{Metadaten.paginator.paginationTypes}"
                               var="type"
                               itemValue="#{type}"
                               itemLabel="#{type.label}"/>
            </p:selectOneMenu>
            <p:inputText id="paginationValue" value="#{Metadaten.paginationValue}"/>
            <p:outputLabel for="fictitiousCheckbox" value="#{msgs.paginationFictitious}"/>
            <p:selectBooleanCheckbox id="fictitiousCheckbox"
                                     class="input" style="margin-bottom: 0"
                                     value="#{Metadaten.fictitious}"/>
            <p:panel id="paginationStyle" style="padding: 0;">
                <p:commandLink update="paginationStyle">
                    <p:graphicImage value="/pages/images/buttons/paginierung_seite.svg"
                                    styleClass="#{Metadaten.paginationPagesProImage == 1 ? 'pagination-active' : 'pagination-inactive'}"
                                    title="#{msgs.pageCount}"
                                    alt="#{msgs.pageCount}"/>
                    <f:setPropertyActionListener value="1" target="#{Metadaten.paginationPagesProImage}"/>
                </p:commandLink>
                <p:commandLink update="paginationStyle">
                    <p:graphicImage value="/pages/images/buttons/paginierung_spalte.svg"
                                    styleClass="#{Metadaten.paginationPagesProImage == 2 ? 'pagination-active' : 'pagination-inactive'}"
                                    title="#{msgs.columnCount}"
                                    alt="#{msgs.columnCount}"/>
                    <f:setPropertyActionListener value="2" target="#{Metadaten.paginationPagesProImage}"/>
                </p:commandLink>
                <p:commandLink update="paginationStyle">
                    <p:graphicImage value="/pages/images/buttons/paginierung_blatt.svg"
                                    styleClass="#{Metadaten.paginationPagesProImage == 3 ? 'pagination-active' : 'pagination-inactive'}"
                                    title="#{msgs.blattzaehlung}"
                                    alt="#{msgs.blattzaehlung}"/>
                    <f:setPropertyActionListener value="3" target="#{Metadaten.paginationPagesProImage}"/>
                </p:commandLink>
                <p:commandLink update="paginationStyle">
                    <p:graphicImage value="/pages/images/buttons/paginierung_blatt_rectoverso.svg"
                                    styleClass="#{Metadaten.paginationPagesProImage == 4 ? 'pagination-active' : 'pagination-inactive'}"
                                    title="#{msgs.blattzaehlungrectoverso}"
                                    alt="#{msgs.blattzaehlungrectoverso}"/>
                    <f:setPropertyActionListener value="4" target="#{Metadaten.paginationPagesProImage}"/>
                </p:commandLink>
                <p:commandLink update="paginationStyle">
                    <p:graphicImage value="/pages/images/buttons/paginierung_seite_rectoverso.svg"
                                    styleClass="#{Metadaten.paginationPagesProImage == 5 ? 'pagination-active' : 'pagination-inactive'}"
                                    title="#{msgs.pageCountRectoVerso}"
                                    alt="#{msgs.pageCountRectoVerso}"/>
                    <f:setPropertyActionListener value="5" target="#{Metadaten.paginationPagesProImage}"/>
                </p:commandLink>
                <p:commandLink update="paginationStyle">
                    <p:graphicImage value="/pages/images/buttons/paginierung_doppelseite.svg"
                                    styleClass="#{Metadaten.paginationPagesProImage == 6 ? 'pagination-active' : 'pagination-inactive'}"
                                    title="#{msgs.pageCountDouble}"
                                    alt="#{msgs.pageCountDouble}"/>
                    <f:setPropertyActionListener value="6" target="#{Metadaten.paginationPagesProImage}"/>
                </p:commandLink>
            </p:panel>
            <p:selectOneMenu id="paginationScopeSelect" value="#{Metadaten.paginator.paginationScope}">
                <f:selectItems value="#{Metadaten.paginator.paginationScopes}" var="scope"
                               itemValue="#{scope}" itemLabel="#{scope.label}"/>
            </p:selectOneMenu>
            <p:commandLink id="createPaginationButton"
                           action="#{Metadaten.createPagination}"
                           value="#{msgs.paginationRead}"
                           update="paginationSelection,structureTreeForm,structureTreeForm:structureWrapperPanel,structureTreeForm:paginationWrapperPanel,metadataWrapperPanel,commentWrapperPanel,galleryWrapperPanel"
                           immediate="true"/>
            <p:commandButton id="startPagination" action="#{Metadaten.changePagination}"
                             update="structureTreeForm:paginationSelection"
                             value="start">
            </p:commandButton>
            <p:commandButton id="okButton" value="OK"
                             action="#{Metadaten.setShowPagination(false)}"
                             update="structureTreeForm"
                             immediate="true"/>
        </p:panelGrid>
    </p:panel>
</ui:composition>
